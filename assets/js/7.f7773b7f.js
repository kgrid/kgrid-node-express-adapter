(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{362:function(e,t,a){"use strict";a.r(t);var s=a(45),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"create-knowledge-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-knowledge-object"}},[e._v("#")]),e._v(" Create Knowledge Object")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/kgrid/kgrid-node-runtime/releases/",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://img.shields.io/github/release/kgrid/kgrid-node-runtime.svg",alt:"GitHub release"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://circleci.com/gh/kgrid/kgrid-node-runtime",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://circleci.com/gh/kgrid/kgrid-node-runtime.svg?style=svg",alt:"CircleCI"}}),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("This guide will demonstrate how to create a Knowledge Object (KO) for the KGrid Node Runtime. Please refer to KGrid "),a("a",{attrs:{href:"https://kgrid.org/specs",target:"_blank",rel:"noopener noreferrer"}},[e._v("Knowledge Object Common Model"),a("OutboundLink")],1),e._v(" for more details of KO.")]),e._v(" "),a("p",[e._v("The instructions will utilize "),a("a",{attrs:{href:"https://www.npmjs.com/package/@kgrid/cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("KGrid CLI"),a("OutboundLink")],1),e._v(" and assume that the reader is familiar with the generic KO creation process described in "),a("a",{attrs:{href:"https://kgrid.org/guides/developer/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Developer's Guide"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"create-ko"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-ko"}},[e._v("#")]),e._v(" Create KO")]),e._v(" "),a("p",[e._v("Open a terminal tab or window and navigate to the folder where you will store the KO to be created.")]),e._v(" "),a("p",[e._v("Create a new KO using the kgrid-cli.")]),e._v(" "),a("p",[e._v("You will be prompted for a target runtime. For the node runtime, select "),a("code",[e._v("NodeJS")]),e._v(".")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" kgrid create myobject\nKGrid CLI v0.5.1\n\n? Please "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("select")]),e._v(" the target runtime:  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("Use arrow keys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" Nashorn\n  NodeJS\n")])])]),a("p",[e._v("Once you select "),a("code",[e._v("NodeJS")]),e._v(" as the target runtime, the knowledge object will be created.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("? Please "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("select")]),e._v(" the target runtime:  NodeJS\n\nThe knowledge object "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("99999")]),e._v("/myobject has been created.\n\nPlease go to the folder by "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" myobject"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")])]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n\nRun "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")])]),e._v(" before deploying to the activator.\n")])])]),a("h2",{attrs:{id:"deployment-description"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deployment-description"}},[e._v("#")]),e._v(" Deployment description")]),e._v(" "),a("p",[a("code",[e._v("deployment.yaml")]),e._v(" provides the KO's deployment description to the activator.  The activator will then locate the suitable runtime (defined as "),a("code",[e._v("engine")]),e._v(") and activate the KO via the specified adapter.")]),e._v(" "),a("p",[a("code",[e._v("artifact")]),e._v(" lists all the source files needed for the activated KO.")]),e._v(" "),a("p",[a("code",[e._v("function")]),e._v(" specifies the 'main' function where code execution begins")]),e._v(" "),a("p",[a("code",[e._v("entry")]),e._v(" specifies the code file containing the main function")]),e._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("endpoints")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("/welcome")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("artifact")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" src/index.js\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("adapter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" PROXY\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("engine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" node\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("entry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" src/index.js\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" welcome\n")])])]),a("h2",{attrs:{id:"function-code-in-the-entry-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#function-code-in-the-entry-file"}},[e._v("#")]),e._v(" Function Code in the entry file")]),e._v(" "),a("p",[e._v("The KO created from the template has all the necessary files and can be activated in the KGrid Activator with the registered KGrid Node Runtime.")]),e._v(" "),a("p",[e._v("In the entry file "),a("code",[e._v("src/index.js")]),e._v(", you will specify the function to be activated for the endpoint, for example, the function of "),a("code",[e._v("welcome")]),e._v(" from the template.")]),e._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("welcome")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  name "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" inputs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Welcome to Knowledge Grid, "')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),e._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" welcome"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[a("code",[e._v("function")]),e._v(" and "),a("code",[e._v("entry")]),e._v(" need to be updated in "),a("code",[e._v("deployment.yaml")]),e._v(" to match your KO code.")]),e._v(" "),a("h2",{attrs:{id:"additional-source-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#additional-source-files"}},[e._v("#")]),e._v(" Additional source files")]),e._v(" "),a("p",[e._v("You can have multiple source files for your KO. Make sure to add them to the list of "),a("code",[e._v("artifact")]),e._v(" in "),a("code",[e._v("deployment.yaml")])]),e._v(" "),a("h2",{attrs:{id:"dependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dependencies"}},[e._v("#")]),e._v(" Dependencies")]),e._v(" "),a("p",[e._v("You can use dependencies for your KO by adding them to "),a("code",[e._v("package.json")]),e._v(" just as you would do for a NodeJS project.")]),e._v(" "),a("p",[e._v("Make sure to add "),a("code",[e._v("package.json")]),e._v(" to the list of "),a("code",[e._v("artifact")]),e._v(" in "),a("code",[e._v("deployment.yaml")]),e._v(" if it is not listed yet. The runtime will need the information to install the dependencies during the activation process.")]),e._v(" "),a("h2",{attrs:{id:"what-s-next"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-next"}},[e._v("#")]),e._v(" What's next?")]),e._v(" "),a("p",[e._v("Now the KO has all the code, with the updated service description and deployment description. Activate it in the KGrid Activator and see it work. Please refer to "),a("a",{attrs:{href:"https://kgrid.org/guides/quickstart/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Quick Start"),a("OutboundLink")],1),e._v(" or "),a("a",{attrs:{href:"https://kgrid.org/guides/developer/",target:"_blank",rel:"noopener noreferrer"}},[e._v("DEveloper's Guide"),a("OutboundLink")],1),e._v(" for starting a local Grid. Don't forget to start the KGrid Node Runtime too.")])])}),[],!1,null,null,null);t.default=r.exports}}]);